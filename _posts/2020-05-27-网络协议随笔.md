---
layout: post
title: "网络协议"
subtitle: ""
date: 2020-04-15
author: "zlk"
catalog: true
tags:
  - 网络协议随笔
---

### 目前网络现状

- 一般家用网买一个路由器足矣，带交换机功能，注意：家用路由器虽然有多个 lan 口，但所有 lan 口的 mac 地址是统一的，即所有的 lan 口共用同一个网卡，相当于一个地址加交换机的形式

- 一般办公网设备比较多，会单独用交换机

### 网关

一个路由器（三层转发）的一个网口就是一个网关

#### 网关分类

不改变 IP 地址的网关，我们称为转发网关；改变 IP 地址的网关，我们称为 NAT 网关

### 交换机

交换机会记录「端口 和 MAC」地址的映射关系，这样收到数据包之后，解析 MAC 地址，就知道往哪个端口发送数据了

### 路由器

路由器是一个三层设备，里面有如何寻找下一跳的规则（根据本地的转发信息库，决定如何转发），一张路由表中会有多条路由规则。每一条规则至少包含这三项信息。

- 目的网络：这个包想去哪儿？
- 出口设备：将包从哪个口扔出去？
- 下一跳网关：下一个路由器的地址

#### 路由配置方式

- 静态路由 一般来说网络环境简单的时候，在自己的可控范围之内，自己捣鼓还是可以的。但是有时候网络环境复杂并且多变，如果总是用静态路由，一旦网络结构发生变化，让网络管理员手工修改路由太复杂了，因而需要动态路由算法

### 交换机和路由器区别

- 交换机自己既没有 MAC 地址，也没有 IP 地址
- 路由器的一个网口就有一个 MAC 地址，一个 IP 地址
